---
layout:     post
title:      " 关于导表 "
subtitle:   ""
date:       2021-12-26
author:     "spin6lock"
catalog:    true
tags:
- 游戏开发
---

最近和同事讨论了导表越来越慢的问题，有点发散，写篇文章记录一下

导表慢主要是有人没导表通过就提交，导致大家都卡住，没法提交。不跑导表就提交是因为导表太慢。目前导表已经带 cache, 没改的 excel 表不会重新导，但是架不住一个 excel 表里有多个 sheet 的情况，只要其中一个 sheet 改了一行，整个 excel 都会重新导。又由于搞了跨表引用，所以枚举表里的所有表都会先导一遍。导表流程：1. excel 转 lua 2. 导表规则修改 lua 的内容，写入文件

最近做的优化：写了脚本直接取出最后一次成功的导表，用缓存内容替代最终脚本，本机开发完全避免打包。缺点：没有解决大家打包慢的问题

同事还推荐了 luban 导表框架
